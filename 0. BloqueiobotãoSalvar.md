# 0. BotÃ£o Salvar - Bloqueio/transaction ğŸ‘¨ğŸ»â€ğŸ’»

### âœ… - Objetivo :
Foi identificado no sistema um problema relacionado Ã  ausÃªncia de controle de mÃºltiplos cliques no botÃ£o **"Salvar"**, o qual permanece habilitado durante o processamento da requisiÃ§Ã£o. Essa falha permite que o usuÃ¡rio acione repetidamente a mesma aÃ§Ã£o, resultando em **inserÃ§Ãµes duplicadas ou dados inconsistentes**, principalmente no mÃ³dulo de **lanÃ§amento de produtos em entradas de notas fiscais**.

Esse comportamento tem sido potencializado por eventuais **lentidÃµes no processamento** (ou casos de lentidÃ£o em conexÃ£o de internet/cache de navegador), o que induz o usuÃ¡rio a clicar mÃºltiplas vezes, acreditando que a operaÃ§Ã£o nÃ£o foi executada ou nÃ£o foi executada corretamente.

**Impacto dessa aÃ§Ã£o gera algumas situaÃ§Ãµes:**

* InserÃ§Ã£o de registros duplicados.
* InconsistÃªncia de valores nos lanÃ§amentos.
* Potencial corrupÃ§Ã£o de dados relacionados ao estoque (Que estÃ£o sendo questionados em outros topicos por usuarios).

**RecomendaÃ§Ã£o:**

1. **Implementar bloqueio temporÃ¡rio** do botÃ£o â€œSalvarâ€ apÃ³s o primeiro clique. Apenas liberar "tela" ou "botÃ£o" apÃ³s a conclusÃ£o da operaÃ§Ã£o (com sucesso ou falha ao salvar).
2. Utilizar  **Transaction** na camada de persistÃªncia para garantir a integridade dos dados, assegurando que:
   * Ou todos os registros sejam salvos corretamente;
   * Ou nenhuma alteraÃ§Ã£o seja aplicada, em caso de falha.

Essa abordagem garante maior seguranÃ§a na manipulaÃ§Ã£o de dados e evita efeitos colaterais causados por mÃºltiplas requisiÃ§Ãµes ou dados incompleto ao salvar.
