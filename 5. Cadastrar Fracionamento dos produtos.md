# 5. Cadastrar Fracionamento dos produtos: üü∞

## ‚úÖ - Objetivo :

### üßëüèª- Solicita√ß√£o usu√°rio:

Cadastrar formas de fracionamento dos itens de acordo com a necessidade, por exemplo: a "√°gua sanit√°ria" √© comprada como caixa e distribuida internamente como frasco. Uma caixa de 12 frasco de 1L.

## üìÉ - Descri√ß√£o:

Ser√° necess√°rio criar uma nova tabela chamada `embalagem`, onde ser√£o cadastradas as varia√ß√µes de fracionamento dos produtos.
Essas embalagens estar√£o dispon√≠veis na se√ß√£o **"Tabelas"**, sendo previamente definidas por meio de uma nova view de cadastro.

A tabela **`embalagem`** dever√° conter, no m√≠nimo, os seguintes campos:

* **`id`** (chave prim√°ria)
* **`fk_unidade_medida`** (descri√ß√£o textual da embalagem)
* qtd_embalagem (Quantidade de unidade da embalagem, exemplo: Caixa de 24 Unidades = 24 unidades)

No cadastro de produtos (**`produtos`**), ser√° adicionado um novo campo chamado **`embalagens`**, implementado como um *data-table*, permitindo a associa√ß√£o de m√∫ltipos tipos de embalagem a um √∫nico produto.

Essas op√ß√µes de embalagem estar√£o dispon√≠veis para o usu√°rio no momento do lan√ßamento de uma nova movimenta√ß√£o do tipo: **"entrada de nota"**, possibilitando selecionar a(s) embalagem(ns) adequada(s) conforme o produto e a opera√ß√£o.

---

### ‚òëÔ∏è - Resumo das altera√ß√µes:

* [X]  ‚òëÔ∏è - Cria√ß√£o de uma tabela embalagem (id, descricao_embalagem, unidade_embalagem), cria√ß√£o de uma view contando esses campos;
* [X]  ‚òëÔ∏è- Em produto sera adicionado um campo *data-table* , possibilitando selecionar a(s) embalagem(ns) adequadas(s) conforme produto.
* [X]  ‚òëÔ∏è- Cria√ß√£o de um novo campo em "movimenta√ß√£o geral" para embalagem sempre que for "Opera√ß√£o" igual a Entrada de Nota Fiscal;
* [X]  ‚òëÔ∏è- Ap√≥s cria√ß√£o desse novo campo vamos precisar ciriar um controle dessa informa√ß√£o, sempre que usuario selecionar um tipo de embalagem,  deverar ser utilizado o calculo atualizando.

  **Exemplo:**

  **Produto:**  Acess√≥rio;

  **Un. Medida:** UND;

  **Descri√ß√£o:** Bobina de saco pl√°stico 3kg;

  **Embalagem:** caixa 24 unidades;

  Ao efetuar processo movimenta√ß√£o geral - entrada de nota fiscal, quantidade ira se representada pela embalagem (unidade_embalagem), n√£o mais pela unidade e quantidade movimentada;

## üé≤ - Modelagem de dados:

### üõ†Ô∏è - Tabelas criada:

#### Tabela: embalagem


| id                  | int           | not null |
| ------------------- | ------------- | -------- |
| fk_unidade_medida | varcharint    | not null |
| qtd_embalagem   | decimal(10,2) | not null |


#### Tabela: produto_embalagem


| id           | int | not null |
| ------------ | --- | -------- |
| fk_embalagem | int | not null |
| fk_produto   | int | not null |


### Tabela altera: item_movimentacao
Adicionar embalagem 
| nome         | tipo|     |
| ------------ | --- | --- | 
| fk_embalagem | int |null |

## ‚òëÔ∏è- Prototipa√ß√£o tela:
![image](https://github.com/user-attachments/assets/27ce7382-98aa-4bd5-b2d8-20a29ff0cf31)

![1745521421488](images/5.CadastrarFracionamentodosprodutos/1745521421488.png)

![1745521590792](images/5.CadastrarFracionamentodosprodutos/1745521590792.png)
